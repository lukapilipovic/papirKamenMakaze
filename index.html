<html>

<head>
	<title>Papir - Kamen - Makaze - Kod kuce</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
	<script type="text/javascript" src="js/functions.js"></script>
	<link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">


<script>



$(document).ready(function(){
	
	var gameOptions = ["Papir", "Kamen", "Makaze"];
	
	
	//$("#game").hide();

	$("#login").on("submit", function(){
  	 $("#game").show();
  	 $("#loginPane").hide();

  	 playerName =  $("#playerName").val();
  	 
  	 $("#player1name").html(playerName);

  	 loadResult (playerName);
  	 
  	 $("#endGame").show();

  	 return false;
 	})




$("#endGame").click(function(){
	 var result = parseInt ($("#playerScore1").html());
     saveResult (playerName,result);
     $("#game").hide();
  	 $("#loginPane").show();
  	 $("#playerName").val('');
  	 $("#playerName").focus();
  	 $("#playerScore1").html('0');
  	 $("#playerScore2").html('0');
  	 $("#message").html('');
  	 $("#endGame").hide();

});


	//setInterval(rotateImages('#player1choice',gameOptions), 3000);	
    
    $("#play").click(function(){
        
    	//gameOptions
    	

    	//clear message and result display
    	$("#result").html('');
    	$("#message").html('');

    	//play game
    	output = playGame(gameOptions,playerName,'Computer');

    	//get outcome
    	outcome = output[0];
    	player1 = output[1];
    	player2 = output[2];
    	message = output[3];


        //display outcome and result
        $("#play").prop('value', 'Play again');

        
		$("#player1choice").attr('src','img/'+player1+'.png');

		$("#player2choice").attr('src','img/'+player2+'.png');

        $("#message").append(message);

       	//add score to the scoreboard
       	var winner = "#playerScore"+outcome;
       	var p1 = $(winner).html();
       	var newResult = parseInt(p1) + 1;
       	$(winner).html(newResult) ;



    });
});

	


</script>

</head>


<body>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" ></script>

<div class="container">
	<div class="row" id="game">
		<section class="col-md-12 text-center">
			<h1>Two player game</h1>
		</section>
		<section class="col-md-12 text-center outcome">
			<section class="col-md-6 text-center" id="player1">
				<div id="player1name"></div>
				<img src="img/Kamen.png" id="player1choice">
			</section>
			<section class="col-md-6 text-center" id="player2">
				<div id="player2name">Computer</div>
				<img src="img/Makaze.png" id="player2choice">
			</section>
		</section>
		<section class="col-md-12 text-center message">
			<p id="message"></p>
		</section>
		<section class="col-md-12 text-center">
			<input type="button" id="play" value="Play game">
		</section>

		<section class = "col-md-12 results text-center">
		<h1>Results</h1>
			<section class="col-md-6 text-center" id="playerScore1">0</section>
			<section class="col-md-6 text-center" id="playerScore2">0</section>
		</section>


	</div>
	<div class="row" id="loginPane">
		<section class="col-md-12 text-center">
			<h1>Enter your name:</h1>
			<form id="login">
			<input type="text" id="playerName"></input>
			<form>
		</section>

	</div>

	<div class="row"> <section class="col-md-12 text-center"><input type="button" id="endGame" value="Finish game"></section></div>




</div>

</body>

</html>